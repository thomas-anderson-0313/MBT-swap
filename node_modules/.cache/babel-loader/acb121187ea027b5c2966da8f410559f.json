{"ast":null,"code":"import _defineProperty from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\src\\\\components\\\\buy\\\\spot.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useEffect, useState } from 'react';\nimport { Radio, Grid } from '@material-ui/core';\nimport { ethers } from 'ethers';\nimport { usdtContract, atariContract, wethContract, stakeContract, pairEthAtari, pairEthUsdt, stakeAddress } from '../abi/contracts';\nimport './buy.css';\nimport '../../bootstrap.min.css';\nexport default function Spot() {\n  var _React$createElement;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      balance = _useState2[0],\n      setBalance = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      balance1 = _useState4[0],\n      setBalance1 = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      balance2 = _useState6[0],\n      setBalance2 = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      connect = _useState8[0],\n      setConnect = _useState8[1];\n\n  var handleAmount = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setAmount(e.target.value);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleAmount(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      amount = _useState10[0],\n      setAmount = _useState10[1];\n\n  var _useState11 = useState(\"1\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      payStep = _useState12[0],\n      setPayStep = _useState12[1];\n\n  var handlePayStep = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e, v) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(v);\n              setPayStep(v);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handlePayStep(_x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      returnValue = _useState14[0],\n      setReturnValue = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      loadingStake = _useState16[0],\n      setLoading = _useState16[1];\n\n  var handleBuy = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var provider, signer, _provider, _signer, UserAddress;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (connect) if (!isNaN(returnValue)) {\n                setLoading(true);\n\n                if (amount > 0) {\n                  console.log(returnValue);\n\n                  try {\n                    if (connect) {\n                      //ether\n                      if (payStep == \"1\") {\n                        console.log(\"ether\");\n                        provider = new ethers.providers.Web3Provider(window.ethereum);\n                        signer = provider.getSigner();\n                      } else {\n                        console.log('usdt'); //usdt , first approve\n\n                        _provider = new ethers.providers.Web3Provider(window.ethereum);\n                        _signer = _provider.getSigner();\n                        UserAddress = _signer.getAddress();\n                      }\n                    }\n                  } catch (err) {\n                    console.log(err);\n                    setLoading(false);\n                  }\n                } else {\n                  setLoading(false);\n                }\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleBuy() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    var provider, accounts, chainId, signer, UserAddress, WethContract, AtariContract, UsdtContract, StakeContract, stakeamount, lock, lockDate, poolEth, poolAtari, poolEth1, poolUsdt;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!window.ethereum) {\n              _context4.next = 78;\n              break;\n            }\n\n            provider = new ethers.providers.Web3Provider(window.ethereum);\n            _context4.next = 4;\n            return provider.listAccounts();\n\n          case 4:\n            accounts = _context4.sent;\n            _context4.next = 7;\n            return window.ethereum.request({\n              method: 'eth_chainId'\n            });\n\n          case 7:\n            chainId = _context4.sent;\n\n            if (!(accounts.length != 0 && chainId == 1)) {\n              _context4.next = 78;\n              break;\n            }\n\n            //setConnect true\n            setConnect(true); //get user\n\n            signer = provider.getSigner();\n            _context4.next = 13;\n            return signer.getAddress();\n\n          case 13:\n            UserAddress = _context4.sent;\n            WethContract = wethContract.connect(signer);\n            AtariContract = atariContract.connect(signer);\n            UsdtContract = usdtContract.connect(signer);\n            StakeContract = stakeContract.connect(signer); //atari info\n            // var atariDecimals  = await AtariContract.decimals();\n            // setAtariDecimals(atariDecimals);\n            //usdt info \n            // var usdtDecimals = await UsdtContract.decimals();\n            // setUsdtDecimals(usdtDecimals);\n            //stake info\n\n            _context4.t0 = ethers.utils;\n            _context4.next = 21;\n            return StakeContract.getamount(window.ethereum.selectedAddress);\n\n          case 21:\n            _context4.t1 = _context4.sent;\n            _context4.t2 = atariDecimals;\n            stakeamount = _context4.t0.formatUnits.call(_context4.t0, _context4.t1, _context4.t2);\n            setStakeState(stakeamount);\n            _context4.next = 27;\n            return StakeContract.getlocktime(UserAddress);\n\n          case 27:\n            lock = _context4.sent;\n            lockDate = new Date(); // Epoch\n\n            lockDate.setSeconds(lock);\n            setLockTime(lockDate.toUTCString());\n            _context4.t3 = setBalance;\n            _context4.t4 = ethers.utils;\n            _context4.next = 35;\n            return AtariContract.balanceOf(UserAddress);\n\n          case 35:\n            _context4.t5 = _context4.sent;\n            _context4.t6 = atariDecimals;\n            _context4.t7 = _context4.t4.formatUnits.call(_context4.t4, _context4.t5, _context4.t6).slice(0, 15);\n            (0, _context4.t3)(_context4.t7);\n            _context4.t8 = setBalance1;\n            _context4.t9 = ethers.utils;\n            _context4.next = 43;\n            return provider.getBalance(UserAddress);\n\n          case 43:\n            _context4.t10 = _context4.sent;\n            _context4.t11 = _context4.t9.formatUnits.call(_context4.t9, _context4.t10).slice(0, 15);\n            (0, _context4.t8)(_context4.t11);\n            _context4.t12 = setBalance2;\n            _context4.t13 = ethers.utils;\n            _context4.next = 50;\n            return UsdtContract.balanceOf(UserAddress);\n\n          case 50:\n            _context4.t14 = _context4.sent;\n            _context4.t15 = _context4.t13.formatUnits.call(_context4.t13, _context4.t14, 6).slice(0, 15);\n            (0, _context4.t12)(_context4.t15);\n            //update pool data\n            console.log(\"update\");\n            _context4.t16 = ethers.utils;\n            _context4.next = 57;\n            return WethContract.balanceOf(pairEthAtari);\n\n          case 57:\n            _context4.t17 = _context4.sent;\n            poolEth = _context4.t16.formatUnits.call(_context4.t16, _context4.t17);\n            setPoolEth(poolEth);\n            _context4.t18 = ethers.utils;\n            _context4.next = 63;\n            return AtariContract.balanceOf(pairEthAtari);\n\n          case 63:\n            _context4.t19 = _context4.sent;\n            poolAtari = _context4.t18.formatUnits.call(_context4.t18, _context4.t19, 0);\n            setPoolAtari(poolAtari);\n            _context4.t20 = ethers.utils;\n            _context4.next = 69;\n            return WethContract.balanceOf(pairEthUsdt);\n\n          case 69:\n            _context4.t21 = _context4.sent;\n            poolEth1 = _context4.t20.formatUnits.call(_context4.t20, _context4.t21);\n            setPoolEth1(poolEth1);\n            _context4.t22 = ethers.utils;\n            _context4.next = 75;\n            return UsdtContract.balanceOf(pairEthUsdt);\n\n          case 75:\n            _context4.t23 = _context4.sent;\n            poolUsdt = _context4.t22.formatUnits.call(_context4.t22, _context4.t23, 6);\n            setPoolUsdt(poolUsdt);\n\n          case 78:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  })), [payStep, connect]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buyCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 1,\n    md: 1,\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 5,\n    md: 5,\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"y-card-form-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"x-font3_2 text-center top_section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, \"YOUR BALANCE\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/icon_1.png\",\n    alt: \"icon1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 37\n    }\n  }, \"Available BNB balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 37\n    }\n  }, balance1)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 37\n    }\n  }, \"Available USDT balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 37\n    }\n  }, balance2)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }, \"Available MBT balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 37\n    }\n  }, balance))))), /*#__PURE__*/React.createElement(Grid, (_React$createElement = {\n    item: true\n  }, _defineProperty(_React$createElement, \"item\", true), _defineProperty(_React$createElement, \"xs\", 12), _defineProperty(_React$createElement, \"sm\", 5), _defineProperty(_React$createElement, \"md\", 5), _defineProperty(_React$createElement, \"lg\", 4), _defineProperty(_React$createElement, \"__self\", this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 21\n  }), _React$createElement), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"y-card-form-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"x-font3_2 text-center top_section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 33\n    }\n  }, \"BUY MBT\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/icon_2.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  }, \"Amount in MBT:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"y-card-input\",\n    style: {\n      textAlign: 'right'\n    },\n    onChange: handleAmount,\n    value: amount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 37\n    }\n  }, \"Payment method:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right\",\n    style: {\n      marginTop: -7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Radio, {\n    checked: payStep == \"1\",\n    onChange: function onChange(e) {\n      return handlePayStep(e, \"1\");\n    },\n    name: \"radio-button-demo\",\n    color: \"primary\",\n    inputProps: {\n      'aria-label': 'A'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 45\n    }\n  }, \"BNB\"), /*#__PURE__*/React.createElement(Radio, {\n    checked: payStep == \"2\",\n    onChange: function onChange(e) {\n      return handlePayStep(e, \"2\");\n    },\n    name: \"radio-button-demo\",\n    color: \"primary\",\n    inputProps: {\n      'aria-label': 'A'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 45\n    }\n  }, \"USDT\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 37\n    }\n  }, \"Amount in crypto:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3 float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 37\n    }\n  }, \"\".concat(returnValue), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: '#e31e2d'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 60\n    }\n  }, \" \", payStep == \"1\" ? \"BNB\" : \"USDT\")))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 1,\n    md: 1,\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-1 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"x-buyCard-submit-button\",\n    style: {\n      padding: 14,\n      width: '30%'\n    },\n    onClick: handleBuy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, loadingStake ? /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/box.gif\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 137\n    }\n  }) : \"BUY\"))));\n}","map":{"version":3,"sources":["E:/my working files/working/Exchange-contract/Exchange/src/components/buy/spot.js"],"names":["React","ReactDOM","useEffect","useState","Radio","Grid","ethers","usdtContract","atariContract","wethContract","stakeContract","pairEthAtari","pairEthUsdt","stakeAddress","Spot","balance","setBalance","balance1","setBalance1","balance2","setBalance2","connect","setConnect","handleAmount","e","setAmount","target","value","amount","payStep","setPayStep","handlePayStep","v","console","log","returnValue","setReturnValue","loadingStake","setLoading","handleBuy","isNaN","provider","providers","Web3Provider","window","ethereum","signer","getSigner","UserAddress","getAddress","err","listAccounts","accounts","request","method","chainId","length","WethContract","AtariContract","UsdtContract","StakeContract","utils","getamount","selectedAddress","atariDecimals","stakeamount","formatUnits","setStakeState","getlocktime","lock","lockDate","Date","setSeconds","setLockTime","toUTCString","balanceOf","slice","getBalance","poolEth","setPoolEth","poolAtari","setPoolAtari","poolEth1","setPoolEth1","poolUsdt","setPoolUsdt","padding","textAlign","marginTop","color","width"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {useEffect, useState} from 'react';\r\nimport {Radio, Grid} from '@material-ui/core';\r\nimport { ethers } from 'ethers';\r\nimport {usdtContract,atariContract,wethContract,stakeContract, pairEthAtari, pairEthUsdt, stakeAddress} from '../abi/contracts';\r\n\r\nimport './buy.css';\r\nimport '../../bootstrap.min.css';\r\n\r\nexport default function Spot() {\r\n\r\n    const [balance,setBalance]=useState(0);\r\n    const [balance1,setBalance1]=useState(0);\r\n    const [balance2,setBalance2]=useState(0);\r\n    const [connect, setConnect] = useState(false);\r\n    const handleAmount = async (e) =>{\r\n        setAmount(e.target.value)\r\n    }\r\n    const [amount, setAmount] = useState(0);\r\n    const [payStep,setPayStep] = useState(\"1\");\r\n    const handlePayStep = async (e,v) =>{\r\n        console.log(v);\r\n        setPayStep(v);\r\n    }\r\n    const [returnValue, setReturnValue] = useState(0);\r\n    const [loadingStake, setLoading] = useState(false);\r\n    \r\n    const handleBuy = async () =>{\r\n        if(connect)\r\n         if(!isNaN(returnValue)){\r\n            setLoading(true);\r\n            if(amount>0){\r\n                console.log(returnValue);\r\n                try {\r\n                    if(connect){\r\n                        //ether\r\n                        if(payStep==\"1\"){\r\n                            console.log(\"ether\")\r\n                            const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n                            const signer = provider.getSigner();\r\n                                \r\n                        }\r\n                        else {\r\n                            console.log('usdt')\r\n                            //usdt , first approve\r\n                            const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n                            const signer = provider.getSigner();\r\n                            var UserAddress = signer.getAddress();\r\n \r\n                                    \r\n                        }\r\n                    }\r\n                }\r\n                catch (err){\r\n                    console.log(err)\r\n                    setLoading(false);\r\n                }\r\n            }\r\n            else{\r\n                setLoading(false);\r\n          }\r\n         }\r\n    }\r\n\r\n    useEffect( async()=>{\r\n        if(window.ethereum){\r\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n            const accounts = await provider.listAccounts();\r\n            const chainId = await window.ethereum.request({ method: 'eth_chainId' });\r\n \r\n            //if metamask connected to site\r\n            if(accounts.length!=0&&chainId==1){\r\n                \r\n                //setConnect true\r\n                setConnect(true);\r\n                \r\n                //get user\r\n                var signer=provider.getSigner()\r\n                const UserAddress=await signer.getAddress();\r\n \r\n                var WethContract = wethContract.connect(signer);\r\n                var AtariContract = atariContract.connect(signer);\r\n                var UsdtContract = usdtContract.connect(signer);\r\n                var StakeContract = stakeContract.connect(signer);\r\n \r\n                //atari info\r\n                // var atariDecimals  = await AtariContract.decimals();\r\n                // setAtariDecimals(atariDecimals);\r\n \r\n                //usdt info \r\n                // var usdtDecimals = await UsdtContract.decimals();\r\n                // setUsdtDecimals(usdtDecimals);\r\n \r\n                //stake info\r\n                var stakeamount =ethers.utils.formatUnits( await StakeContract.getamount(window.ethereum.selectedAddress),atariDecimals);\r\n                setStakeState(stakeamount);\r\n \r\n                var lock = await StakeContract.getlocktime(UserAddress);\r\n \r\n                var lockDate = new Date(); // Epoch\r\n                lockDate.setSeconds(lock);\r\n                setLockTime(lockDate.toUTCString());\r\n \r\n                setBalance(ethers.utils.formatUnits(await AtariContract.balanceOf(UserAddress),atariDecimals).slice(0,15));\r\n                \r\n                //user balance\r\n                    setBalance1((ethers.utils.formatUnits(await provider.getBalance(UserAddress))).slice(0,15));\r\n                    setBalance2(ethers.utils.formatUnits(await UsdtContract.balanceOf(UserAddress),6).slice(0,15));\r\n \r\n \r\n                //update pool data\r\n                console.log(\"update\")\r\n                var poolEth = ethers.utils.formatUnits(await WethContract.balanceOf(pairEthAtari));\r\n                setPoolEth(poolEth);\r\n \r\n                var poolAtari = ethers.utils.formatUnits(await AtariContract.balanceOf(pairEthAtari),0);\r\n                setPoolAtari(poolAtari);\r\n \r\n                var poolEth1 =ethers.utils.formatUnits(await WethContract.balanceOf(pairEthUsdt));\r\n                setPoolEth1(poolEth1);\r\n \r\n                var poolUsdt =ethers.utils.formatUnits(await UsdtContract.balanceOf(pairEthUsdt),6);\r\n                setPoolUsdt(poolUsdt);\r\n \r\n            }\r\n        }\r\n    },[payStep,connect])\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"buyCard\">\r\n                <Grid container spacing = {2}>\r\n                <Grid item xs={12} sm = {1} md = {1} lg={2}></Grid>\r\n                    <Grid item xs = {12} sm = {5} md = {5} lg={4}>\r\n                        <div className = \"y-card-form-top\">\r\n                            <div className = \"x-font3_2 text-center top_section\" >\r\n                                <span>YOUR BALANCE</span>\r\n                                <img src=\"/img/icon_1.png\" alt=\"icon1\"></img>\r\n                            </div>\r\n                            <div style={{padding:20}}>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available BNB balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance1}</span>\r\n                                </div>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available USDT balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance2}</span>\r\n                                </div>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available MBT balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance}</span>\r\n                                </div>\r\n                            </div>\r\n                           \r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item item xs = {12} sm = {5} md = {5} lg={4}>\r\n                        <div className = \"y-card-form-top\">\r\n                            <div className = \"x-font3_2 text-center top_section\" >\r\n                                <span>BUY MBT</span>\r\n                                <img src=\"/img/icon_2.png\"></img>\r\n                            </div>\r\n                            <div style={{padding:20}}>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Amount in MBT:\r\n                                    </span>\r\n                                    <input className = \"y-card-input\" style={{textAlign:'right'}} onChange = {handleAmount} value = {amount}/>\r\n                                </div>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Payment method:\r\n                                    </span>\r\n                                    <div  className = 'float-right' style={{marginTop:-7}}>\r\n                                        <span>\r\n                                            <Radio\r\n                                                checked={payStep==\"1\"}\r\n                                                onChange={(e)=>handlePayStep(e,\"1\")}\r\n                                                name=\"radio-button-demo\"\r\n                                                color = \"primary\"\r\n                                                inputProps={{ 'aria-label': 'A' }}\r\n                                            />\r\n                                            <span className = \"x-font4\">BNB</span>\r\n                                            <Radio\r\n                                                checked={payStep==\"2\"}\r\n                                                onChange={(e)=>handlePayStep(e,\"2\")}\r\n                                                name=\"radio-button-demo\"\r\n                                                color = \"primary\"\r\n                                                inputProps={{ 'aria-label': 'A' }}\r\n                                            />\r\n                                            <span className = \"x-font4\">USDT</span>\r\n                                        </span>\r\n                                \r\n                                    </div>\r\n                                   </div>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Amount in crypto:\r\n                                    </span>\r\n                                    <span className = \"x-font3 float-right\">\r\n                                        {`${returnValue}`} <span style={{color:'#e31e2d'}}> {payStep==\"1\"?\"BNB\":\"USDT\"}</span>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm = {1} md = {1} lg={2}></Grid>\r\n                </Grid>\r\n                <div className = \"mt-1 text-center\">\r\n                    <button className = \"x-buyCard-submit-button\" style={{padding:14, width:'30%'}} onClick = {handleBuy}>{loadingStake?<img src = \"/img/box.gif\" />:\"BUY\"}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}