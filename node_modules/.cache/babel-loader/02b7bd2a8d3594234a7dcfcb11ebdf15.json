{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\src\\\\components\\\\buy\\\\buy.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useEffect, useState } from 'react';\nimport { Radio, Grid } from '@material-ui/core';\nimport { ethers } from 'ethers';\nimport './buy.css';\nimport '../../bootstrap.min.css';\nexport default function Buy() {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      balance = _useState2[0],\n      setBalance = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      balance1 = _useState4[0],\n      setBalance1 = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      balance2 = _useState6[0],\n      setBalance2 = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      connect = _useState8[0],\n      setConnect = _useState8[1];\n\n  var handleAmount = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setAmount(e.target.value);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleAmount(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      amount = _useState10[0],\n      setAmount = _useState10[1];\n\n  var _useState11 = useState(\"1\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      payStep = _useState12[0],\n      setPayStep = _useState12[1];\n\n  var handlePayStep = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e, v) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(v);\n              setPayStep(v);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handlePayStep(_x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      returnValue = _useState14[0],\n      setReturnValue = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      loadingStake = _useState16[0],\n      setLoading = _useState16[1];\n\n  var handleBuy = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var provider, signer, _provider, _signer, UserAddress;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (connect) if (!isNaN(returnValue)) {\n                setLoading(true);\n\n                if (amount > 0) {\n                  console.log(returnValue);\n\n                  try {\n                    if (connect) {\n                      //ether\n                      if (payStep == \"1\") {\n                        console.log(\"ether\");\n                        provider = new ethers.providers.Web3Provider(window.ethereum);\n                        signer = provider.getSigner();\n                      } else {\n                        console.log('usdt'); //usdt , first approve\n\n                        _provider = new ethers.providers.Web3Provider(window.ethereum);\n                        _signer = _provider.getSigner();\n                        UserAddress = _signer.getAddress();\n                      }\n                    }\n                  } catch (err) {\n                    console.log(err);\n                    setLoading(false);\n                  }\n                } else {\n                  setLoading(false);\n                }\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleBuy() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button-spot-index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Buy from SPOT\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button-fiat-index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Buy from FIAT\")));\n}","map":{"version":3,"sources":["E:/my working files/working/Exchange-contract/Exchange/src/components/buy/buy.js"],"names":["React","ReactDOM","useEffect","useState","Radio","Grid","ethers","Buy","balance","setBalance","balance1","setBalance1","balance2","setBalance2","connect","setConnect","handleAmount","e","setAmount","target","value","amount","payStep","setPayStep","handlePayStep","v","console","log","returnValue","setReturnValue","loadingStake","setLoading","handleBuy","isNaN","provider","providers","Web3Provider","window","ethereum","signer","getSigner","UserAddress","getAddress","err"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {useEffect, useState} from 'react';\r\nimport {Radio, Grid} from '@material-ui/core';\r\nimport { ethers } from 'ethers';\r\n\r\nimport './buy.css';\r\nimport '../../bootstrap.min.css';\r\n\r\nexport default function Buy() {\r\n\r\n    const [balance,setBalance]=useState(0);\r\n    const [balance1,setBalance1]=useState(0);\r\n    const [balance2,setBalance2]=useState(0);\r\n    const [connect, setConnect] = useState(false);\r\n    const handleAmount = async (e) =>{\r\n        setAmount(e.target.value)\r\n    }\r\n    const [amount, setAmount] = useState(0);\r\n    const [payStep,setPayStep] = useState(\"1\");\r\n    const handlePayStep = async (e,v) =>{\r\n        console.log(v);\r\n        setPayStep(v);\r\n    }\r\n    const [returnValue, setReturnValue] = useState(0);\r\n    const [loadingStake, setLoading] = useState(false);\r\n\r\n    const handleBuy = async () =>{\r\n        if(connect)\r\n         if(!isNaN(returnValue)){\r\n            setLoading(true);\r\n            if(amount>0){\r\n                console.log(returnValue);\r\n                try {\r\n                    if(connect){\r\n                        //ether\r\n                        if(payStep==\"1\"){\r\n                            console.log(\"ether\")\r\n                            const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n                            const signer = provider.getSigner();\r\n                                \r\n                        }\r\n                        else {\r\n                            console.log('usdt')\r\n                            //usdt , first approve\r\n                            const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n                            const signer = provider.getSigner();\r\n                            var UserAddress = signer.getAddress();\r\n \r\n                                    \r\n                        }\r\n                    }\r\n                }\r\n                catch (err){\r\n                    console.log(err)\r\n                    setLoading(false);\r\n                }\r\n            }\r\n            else{\r\n                setLoading(false);\r\n          }\r\n         }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n            <button className=\"button-spot-index\">Buy from SPOT</button>\r\n            <button className=\"button-fiat-index\">Buy from FIAT</button>\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}