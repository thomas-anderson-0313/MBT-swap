{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\src\\\\components\\\\exchange\\\\swap.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useEffect, useState } from 'react';\nimport { Radio, Grid } from '@material-ui/core';\nimport { ethers } from 'ethers';\nimport './exchange.css';\nimport '../../bootstrap.min.css';\nimport SwapForm from \"./swapForm\";\nexport default function Spot() {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      balance = _useState2[0],\n      setBalance = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      balance1 = _useState4[0],\n      setBalance1 = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      balance2 = _useState6[0],\n      setBalance2 = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      flag1 = _useState8[0],\n      setFlag1 = _useState8[1];\n\n  var _useState9 = useState(\"ETHER\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      token1 = _useState10[0],\n      setToken1 = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      flag2 = _useState12[0],\n      setFlag2 = _useState12[1];\n\n  var _useState13 = useState(\"ETHER\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      token2 = _useState14[0],\n      setToken2 = _useState14[1];\n\n  var _useState15 = useState(\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      tokenAddress1 = _useState16[0],\n      setTokenAddress1 = _useState16[1];\n\n  var _useState17 = useState(\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      tokenAddress2 = _useState18[0],\n      setTokenAddress2 = _useState18[1];\n\n  var _useState19 = useState(0),\n      _useState20 = _slicedToArray(_useState19, 2),\n      amount1 = _useState20[0],\n      setAmount1 = _useState20[1];\n\n  var _useState21 = useState(0),\n      _useState22 = _slicedToArray(_useState21, 2),\n      amount2 = _useState22[0],\n      setAmount2 = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      loading = _useState24[0],\n      setLoading = _useState24[1];\n\n  var _useState25 = useState(),\n      _useState26 = _slicedToArray(_useState25, 2),\n      screenWidth = _useState26[0],\n      setScreenWidth = _useState26[1];\n\n  var _useState27 = useState(\"false\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      connectFlag = _useState28[0],\n      setConnectFlag = _useState28[1];\n\n  var _useState29 = useState(),\n      _useState30 = _slicedToArray(_useState29, 2),\n      signer = _useState30[0],\n      setSigner = _useState30[1];\n\n  var _useState31 = useState(),\n      _useState32 = _slicedToArray(_useState31, 2),\n      userAddress = _useState32[0],\n      setAddress = _useState32[1];\n\n  var handleSwap = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var web3, accounts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!window.ethereum) {\n                _context.next = 11;\n                break;\n              }\n\n              web3 = new Web3(window.ethereum);\n              _context.next = 4;\n              return web3.eth.getAccounts();\n\n            case 4:\n              accounts = _context.sent;\n\n              if (!(accounts.length != 0)) {\n                _context.next = 11;\n                break;\n              }\n\n              if (!(token1 == token2)) {\n                _context.next = 9;\n                break;\n              }\n\n              alert(\"input same token!\");\n              return _context.abrupt(\"return\");\n\n            case 9:\n              console.log(token1, token2);\n\n              if (token1 == \"ETHER\") {\n                console.log(\"ether transaction\");\n                handleEthForToken();\n              } else {\n                if (token2 == \"ETHER\") {\n                  handleTokenForEth();\n                } else {\n                  handleTokenForToken();\n                }\n              }\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSwap() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleAmount1 = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var tokenAmount1, exchangeRouter, tokenContract1, tokenContract2, token1Decimal, token1Amountfomatted, BNamount1, pairData1;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setAmount1(e.target.value);\n              tokenAmount1 = e.target.value;\n              console.log(userAddress, token1, token2, \"amount\", tokenAmount1); //metamask must connect\n\n              if (!(connectFlag && tokenAmount1 > 0 && token1 != token2)) {\n                _context2.next = 47;\n                break;\n              }\n\n              //exchange router\n              exchangeRouter = exchangeContract.connect(signer); //token contracts\n\n              tokenContract1 = new ethers.Contract(tokenAddress1, tokenAbi, signer);\n              tokenContract2 = new ethers.Contract(tokenAddress2, tokenAbi, signer);\n              _context2.next = 9;\n              return tokenContract1.decimals();\n\n            case 9:\n              token1Decimal = _context2.sent;\n              token1Amountfomatted = parseFloat(tokenAmount1).toFixed(token1Decimal);\n              console.log(token1Decimal, token1);\n\n              if (!(token1Amountfomatted > 0)) {\n                _context2.next = 46;\n                break;\n              }\n\n              BNamount1 = ethers.utils.parseUnits(token1Amountfomatted.toString(), token1Decimal);\n              console.log(BNamount1, tokenAddress1, tokenAddress2);\n\n              if (!(token1.toUpperCase() == \"ETHER\" || token2.toUpperCase() == \"ETHER\")) {\n                _context2.next = 31;\n                break;\n              }\n\n              console.log(\"ether swap\");\n              _context2.next = 19;\n              return exchangeRouter.getAmountsOut(BNamount1, [tokenAddress1, tokenAddress2]).catch(function (err) {\n                console.log(err);\n                setAmount2(0);\n              });\n\n            case 19:\n              pairData1 = _context2.sent;\n\n              if (!(pairData1 != null)) {\n                _context2.next = 29;\n                break;\n              }\n\n              _context2.t0 = setAmount2;\n              _context2.t1 = ethers.utils;\n              _context2.t2 = pairData1[1];\n              _context2.next = 26;\n              return tokenContract2.decimals();\n\n            case 26:\n              _context2.t3 = _context2.sent;\n              _context2.t4 = _context2.t1.formatUnits.call(_context2.t1, _context2.t2, _context2.t3);\n              (0, _context2.t0)(_context2.t4);\n\n            case 29:\n              _context2.next = 44;\n              break;\n\n            case 31:\n              _context2.next = 33;\n              return exchangeRouter.getAmountsOut(BNamount1, [tokenAddress1, weth, tokenAddress2]).catch(function (err) {\n                console.log(err);\n                setAmount2(0);\n              });\n\n            case 33:\n              pairData1 = _context2.sent;\n              console.log(pairData1[2]);\n\n              if (!(pairData1 != null)) {\n                _context2.next = 44;\n                break;\n              }\n\n              _context2.t5 = setAmount2;\n              _context2.t6 = ethers.utils;\n              _context2.t7 = pairData1[2];\n              _context2.next = 41;\n              return tokenContract2.decimals();\n\n            case 41:\n              _context2.t8 = _context2.sent;\n              _context2.t9 = _context2.t6.formatUnits.call(_context2.t6, _context2.t7, _context2.t8);\n              (0, _context2.t5)(_context2.t9);\n\n            case 44:\n              _context2.next = 47;\n              break;\n\n            case 46:\n              setAmount2(0);\n\n            case 47:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleAmount1(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleAmount2 = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var tokenAmount2, exchangeRouter, tokenContract1, tokenContract2, token2Decimal, token2Amountfomatted, BNamount, pairData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(e.target.value, tokenAddress1, tokenAddress2);\n              setAmount2(e.target.value);\n              console.log(userAddress);\n              tokenAmount2 = e.target.value; //metamask must connect\n\n              if (!(connectFlag && tokenAmount2 > 0 && token1 != token2)) {\n                _context3.next = 40;\n                break;\n              }\n\n              //exchange router\n              exchangeRouter = exchangeContract.connect(signer); //token contracts\n\n              tokenContract1 = new ethers.Contract(tokenAddress1, tokenAbi, signer);\n              tokenContract2 = new ethers.Contract(tokenAddress2, tokenAbi, signer);\n              _context3.next = 10;\n              return tokenContract2.decimals();\n\n            case 10:\n              token2Decimal = _context3.sent;\n              token2Amountfomatted = parseFloat(tokenAmount2).toFixed(token2Decimal);\n\n              if (!(token2Amountfomatted > 0)) {\n                _context3.next = 39;\n                break;\n              }\n\n              _context3.t0 = ethers.utils;\n              _context3.t1 = token2Amountfomatted;\n              _context3.next = 17;\n              return tokenContract2.decimals();\n\n            case 17:\n              _context3.t2 = _context3.sent;\n              BNamount = _context3.t0.parseUnits.call(_context3.t0, _context3.t1, _context3.t2);\n\n              if (!(token1 == \"ETHER\" || token2 == \"ETHER\")) {\n                _context3.next = 25;\n                break;\n              }\n\n              _context3.next = 22;\n              return exchangeRouter.getAmountsIn(BNamount, [tokenAddress1, tokenAddress2]).catch(function (err) {\n                console.log(err);\n                setAmount1(0);\n              });\n\n            case 22:\n              pairData = _context3.sent;\n              _context3.next = 28;\n              break;\n\n            case 25:\n              _context3.next = 27;\n              return exchangeRouter.getAmountsIn(BNamount, [tokenAddress1, weth, tokenAddress2]).catch(function (err) {\n                console.log(err);\n                setAmount1(0);\n              });\n\n            case 27:\n              pairData = _context3.sent;\n\n            case 28:\n              if (!(pairData != null)) {\n                _context3.next = 37;\n                break;\n              }\n\n              _context3.t3 = setAmount1;\n              _context3.t4 = ethers.utils;\n              _context3.t5 = pairData[0];\n              _context3.next = 34;\n              return tokenContract1.decimals();\n\n            case 34:\n              _context3.t6 = _context3.sent;\n              _context3.t7 = _context3.t4.formatUnits.call(_context3.t4, _context3.t5, _context3.t6);\n              (0, _context3.t3)(_context3.t7);\n\n            case 37:\n              _context3.next = 40;\n              break;\n\n            case 39:\n              setAmount1(0);\n\n            case 40:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleAmount2(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleToken1 = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e, v) {\n      var tokenAddress;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setToken1(v);\n\n              if (v == \"Atari\") {\n                tokenAddress = atari;\n                setTokenAddress1(atari);\n              }\n\n              if (v == \"Fantom\") {\n                tokenAddress = fantom;\n                setTokenAddress1(fantom);\n              }\n\n              if (v == \"ETHER\") {\n                tokenAddress = weth;\n                setTokenAddress1(weth);\n              }\n\n              setFlag1(true);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleToken1(_x3, _x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleToken2 = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e, v) {\n      var tokenAddress;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              setToken2(v);\n\n              if (v == \"Atari\") {\n                tokenAddress = atari;\n                setTokenAddress2(atari);\n              }\n\n              if (v == \"Fantom\") {\n                tokenAddress = fantom;\n                setTokenAddress2(fantom);\n              }\n\n              if (v == \"ETHER\") {\n                tokenAddress = weth;\n                setTokenAddress2(weth);\n              }\n\n              setFlag2(true);\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function handleToken2(_x5, _x6) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buyCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 1,\n    md: 1,\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 10,\n    md: 10,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"y-card-form-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"x-font3_2 text-center top_section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 33\n    }\n  }, \"YOUR BALANCE\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/icon_1.png\",\n    alt: \"icon1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 37\n    }\n  }, \"Available BNB balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 37\n    }\n  }, balance1)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 37\n    }\n  }, \"Available USDT balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 37\n    }\n  }, balance2)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 37\n    }\n  }, \"Available MBT balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 37\n    }\n  }, balance))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 1,\n    md: 1,\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"x-swapCard-container\",\n    style: screenWidth > 800 ? {\n      paddingLeft: \"30px\",\n      paddingRight: \"30px\"\n    } : {\n      paddingRight: \"10px\",\n      paddingLeft: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 21\n    }\n  }, \"Swap\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3\",\n    style: {\n      marginLeft: 'auto',\n      alignSelf: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }, connectFlag ? \"Metamask Connected\" : \"Please connect metamask\")), /*#__PURE__*/React.createElement(SwapForm, {\n    role: \"From\",\n    handleToken: handleToken1,\n    flag: flag1,\n    setFlag: setFlag1,\n    token: token1,\n    handleAmount: handleAmount1,\n    balance: balance1,\n    amount: amount1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"primary\",\n    \"aria-label\": \"upload picture\",\n    component: \"span\",\n    onClick: handleReverse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ArrowDownwardIcon, {\n    style: {\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(SwapForm, {\n    role: \"To\",\n    handleToken: handleToken2,\n    flag: flag2,\n    setFlag: setFlag2,\n    token: token2,\n    handleAmount: handleAmount2,\n    balance: balance2,\n    amount: amount2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"x-swapCard-submit-button\",\n    onClick: handleSwap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/box.gif\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 100\n    }\n  }) : \"Swap\"))));\n}","map":{"version":3,"sources":["E:/my working files/working/Exchange-contract/Exchange/src/components/exchange/swap.js"],"names":["React","ReactDOM","useEffect","useState","Radio","Grid","ethers","SwapForm","Spot","balance","setBalance","balance1","setBalance1","balance2","setBalance2","flag1","setFlag1","token1","setToken1","flag2","setFlag2","token2","setToken2","tokenAddress1","setTokenAddress1","tokenAddress2","setTokenAddress2","amount1","setAmount1","amount2","setAmount2","loading","setLoading","screenWidth","setScreenWidth","connectFlag","setConnectFlag","signer","setSigner","userAddress","setAddress","handleSwap","window","ethereum","web3","Web3","eth","getAccounts","accounts","length","alert","console","log","handleEthForToken","handleTokenForEth","handleTokenForToken","handleAmount1","e","target","value","tokenAmount1","exchangeRouter","exchangeContract","connect","tokenContract1","Contract","tokenAbi","tokenContract2","decimals","token1Decimal","token1Amountfomatted","parseFloat","toFixed","BNamount1","utils","parseUnits","toString","toUpperCase","getAmountsOut","catch","err","pairData1","formatUnits","weth","handleAmount2","tokenAmount2","token2Decimal","token2Amountfomatted","BNamount","getAmountsIn","pairData","handleToken1","v","tokenAddress","atari","fantom","handleToken2","padding","paddingLeft","paddingRight","display","marginBottom","marginLeft","alignSelf","handleReverse","color","height"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {useEffect, useState} from 'react';\r\nimport {Radio, Grid} from '@material-ui/core';\r\nimport { ethers } from 'ethers';\r\n\r\nimport './exchange.css';\r\nimport '../../bootstrap.min.css';\r\nimport SwapForm from \"./swapForm\";\r\n\r\n\r\n\r\nexport default function Spot() {\r\n\r\n    const [balance,setBalance]=useState(0);\r\n    const [balance1,setBalance1]=useState(0);\r\n    const [balance2,setBalance2]=useState(0);\r\n    const [flag1, setFlag1] = useState(true);\r\n    const [token1, setToken1] = useState(\"ETHER\");\r\n    const [flag2, setFlag2] = useState(true);\r\n    const [token2, setToken2] = useState(\"ETHER\");\r\n    const [tokenAddress1, setTokenAddress1] = useState(\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\");\r\n    const [tokenAddress2, setTokenAddress2] = useState(\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\");\r\n    const [amount1, setAmount1] = useState(0);\r\n    const [amount2, setAmount2] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n    const [screenWidth, setScreenWidth] = useState();\r\n\tconst [connectFlag,setConnectFlag]=useState(\"false\");\r\n\tconst [signer,setSigner]=useState();\r\n\tconst [userAddress,setAddress]=useState();\r\n\r\n\r\n    const handleSwap = async () =>{\r\n\t\tif(window.ethereum){\r\n\t\t\tvar web3 = new Web3(window.ethereum);\r\n            const accounts = await web3.eth.getAccounts();\r\n            if(accounts.length!=0){\r\n\t\t\t\tif(token1==token2) {\r\n\t\t\t\t\talert(\"input same token!\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(token1,token2);\r\n\t\t\t\tif(token1==\"ETHER\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.log(\"ether transaction\");\r\n\t\t\t\t\t\thandleEthForToken();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(token2==\"ETHER\"){\r\n\t\t\t\t\t\t\thandleTokenForEth();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\thandleTokenForToken();\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    const handleAmount1 = async (e)=>{\r\n        setAmount1(e.target.value);\r\n\t\tvar tokenAmount1=e.target.value;\r\n\r\n\t\tconsole.log(userAddress,token1,token2,\"amount\",tokenAmount1);\r\n\t\t//metamask must connect\r\n\t\tif(connectFlag&&tokenAmount1>0&&token1!=token2){\r\n\t\t\t//exchange router\r\n\t\t\tvar exchangeRouter=exchangeContract.connect(signer);\r\n\t\t\t\r\n\t\t\t//token contracts\r\n\t\t\tvar tokenContract1=new ethers.Contract(tokenAddress1,tokenAbi,signer);\r\n\t\t\tvar tokenContract2=new ethers.Contract(tokenAddress2,tokenAbi,signer);\r\n\r\n\t\t\tvar token1Decimal = await tokenContract1.decimals();\r\n\t\t\tvar token1Amountfomatted = parseFloat(tokenAmount1).toFixed(token1Decimal);\r\n\t\t\tconsole.log(token1Decimal,token1)\r\n\t\t\tif(token1Amountfomatted>0)\r\n\t\t\t// amount to bignumber\r\n\t\t\t{\r\n\t\t\t\tconst BNamount1=ethers.utils.parseUnits(token1Amountfomatted.toString(),token1Decimal);\r\n\r\n\t\t\t\tconsole.log(BNamount1,tokenAddress1, tokenAddress2);\r\n\t\t\t\tif(token1.toUpperCase()==\"ETHER\"||token2.toUpperCase()==\"ETHER\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.log(\"ether swap\")\r\n\t\t\t\t\t\tvar pairData1 = await exchangeRouter.getAmountsOut(BNamount1, [tokenAddress1, tokenAddress2])\r\n\t\t\t\t\t\t.catch((err)=>{\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\tsetAmount2(0);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif(pairData1!=null){\r\n\t\t\t\t\t\t\tsetAmount2(ethers.utils.formatUnits(pairData1[1],await tokenContract2.decimals()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar pairData1 = await exchangeRouter.getAmountsOut(BNamount1, [tokenAddress1, weth, tokenAddress2])\r\n\t\t\t\t\t\t\t.catch((err)=>{\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\tsetAmount2(0);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(pairData1[2]);\t\r\n\r\n\t\t\t\t\tif(pairData1!=null){\r\n\t\t\t\t\t\tsetAmount2(ethers.utils.formatUnits(pairData1[2],await tokenContract2.decimals()));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse setAmount2(0);\r\n\t\t}\r\n    }\r\n\r\n    const handleAmount2 = async (e)=>{\r\n        console.log(e.target.value,tokenAddress1,tokenAddress2);\r\n        setAmount2(e.target.value);\r\n\r\n\t\t\r\n\t\tconsole.log(userAddress);\r\n\t\tvar tokenAmount2=e.target.value;\r\n\r\n\t\t//metamask must connect\r\n\t\tif(connectFlag&&tokenAmount2>0&&token1!=token2){\r\n\t\t\t\r\n\t\t\t//exchange router\r\n\t\t\tvar exchangeRouter=exchangeContract.connect(signer);\r\n\t\t\t\r\n\t\t\t//token contracts\r\n\t\t\tvar tokenContract1=new ethers.Contract(tokenAddress1,tokenAbi,signer);\r\n\t\t\tvar tokenContract2=new ethers.Contract(tokenAddress2,tokenAbi,signer);\r\n\r\n\t\t\tvar token2Decimal = await tokenContract2.decimals();\r\n\t\t\tvar token2Amountfomatted = parseFloat(tokenAmount2).toFixed(token2Decimal);\r\n\t\t\tif(token2Amountfomatted>0)\r\n\t\t\t{\r\n\t\t\t\t//amount to bignumber\r\n\t\t\t\t\r\n\t\t\t\tconst BNamount=ethers.utils.parseUnits(token2Amountfomatted,await tokenContract2.decimals());\r\n\t\t\t\tif(token1==\"ETHER\"||token2==\"ETHER\")\r\n\t\t\t\t\tvar pairData = await exchangeRouter.getAmountsIn(BNamount, [tokenAddress1, tokenAddress2])\r\n\t\t\t\t\t.catch((err)=>{\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tsetAmount1(0);\r\n\t\t\t\t\t});\r\n\t\t\t\telse \r\n\t\t\t\t\tvar pairData = await exchangeRouter.getAmountsIn(BNamount, [tokenAddress1, weth, tokenAddress2])\r\n\t\t\t\t\t.catch((err)=>{\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tsetAmount1(0);\r\n\t\t\t\t\t});\r\n\t\t\t\tif(pairData!=null){\r\n\t\t\t\t\tsetAmount1(ethers.utils.formatUnits(pairData[0],await tokenContract1.decimals()));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse setAmount1(0);\r\n\t\t}\r\n    }\r\n\r\n    const handleToken1 =async (e,v) =>{\r\n        setToken1(v);\r\n\t\tvar tokenAddress;\r\n        if(v==\"Atari\")\r\n            {\r\n\t\t\t\ttokenAddress=atari;\r\n\t\t\t\tsetTokenAddress1(atari);\r\n\t\t\t}\r\n        if(v==\"Fantom\")\r\n            {\r\n\t\t\t\ttokenAddress=fantom;\r\n\t\t\t\tsetTokenAddress1(fantom);\r\n\t\t\t}\r\n        if(v==\"ETHER\")\r\n\t\t{\r\n\t\t\ttokenAddress=weth;\r\n            setTokenAddress1(weth);\r\n\t\t}\r\n        setFlag1(true);\r\n\r\n    }\r\n    const handleToken2 =async (e,v) =>{\r\n        setToken2(v);\r\n\t\tvar tokenAddress;\r\n        if(v==\"Atari\")\r\n\t\t{\r\n\t\t\ttokenAddress=atari;\r\n            setTokenAddress2(atari);\r\n\t\t}\r\n        if(v==\"Fantom\")\r\n\t\t{\r\n\t\t\ttokenAddress=fantom;\r\n            setTokenAddress2(fantom);\r\n\t\t}\r\n        if(v==\"ETHER\")\r\n\t\t{\r\n\t\t\ttokenAddress=weth;\r\n            setTokenAddress2(weth);\r\n\t\t}\r\n        setFlag2(true);\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"buyCard\">\r\n                <Grid container spacing = {2}>\r\n                    <Grid item xs={12} sm = {1} md = {1} lg={2}></Grid>\r\n                    <Grid item xs = {12} sm = {10} md = {10} lg={8}>\r\n                        <div className = \"y-card-form-top\">\r\n                            <div className = \"x-font3_2 text-center top_section\" >\r\n                                <span>YOUR BALANCE</span>\r\n                                <img src=\"/img/icon_1.png\" alt=\"icon1\"></img>\r\n                            </div>\r\n                            <div style={{padding:20}}>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available BNB balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance1}</span>\r\n                                </div>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available USDT balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance2}</span>\r\n                                </div>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available MBT balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance}</span>\r\n                                </div>\r\n                            </div>\r\n                           \r\n                        </div>\r\n                    </Grid>\r\n                    \r\n                    <Grid item xs={12} sm = {1} md = {1} lg={2}></Grid>\r\n                </Grid> \r\n            </div>\r\n            <div className = \"x-swapCard-container\" style = {screenWidth>800?{paddingLeft:\"30px\", paddingRight: \"30px\"}:{paddingRight: \"10px\", paddingLeft: \"10px\"}}>\r\n                <div style={{display:'flex',marginBottom:20}}>\r\n                    <span className=\"x-font2\">Swap</span>\r\n                    <span className=\"x-font3\" style={{marginLeft:'auto',alignSelf:'center'}}>{connectFlag?`Metamask Connected`:`Please connect metamask`}</span>\r\n                </div>\r\n                <SwapForm role = \"From\" handleToken = {handleToken1} flag = {flag1} setFlag = {setFlag1} token = {token1} handleAmount = {handleAmount1} balance = {balance1} amount = {amount1}/>\r\n                <div className = \"text-center\">\r\n                    <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\" onClick = {handleReverse}>\r\n                        <ArrowDownwardIcon style = {{color: \"white\"}}/>\r\n                    </IconButton>\r\n                </div>\r\n                <SwapForm role = \"To\" handleToken = {handleToken2} flag = {flag2} setFlag = {setFlag2} token = {token2} handleAmount = {handleAmount2} balance = {balance2} amount = {amount2}/>\r\n                <div style = {{height: \"40px\"}}></div>\r\n                <div className = \"mt-10\">\r\n                    <button className = \"x-swapCard-submit-button\" onClick = {handleSwap}>{loading?<img src = \"/img/box.gif\" />:\"Swap\"}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}