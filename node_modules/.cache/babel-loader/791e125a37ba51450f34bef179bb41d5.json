{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\my working files\\\\working\\\\Exchange-contract\\\\Exchange\\\\src\\\\components\\\\exchange\\\\swap.js\";\nimport React, { useEffect, useState } from 'react';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Radio, Grid } from '@material-ui/core';\nimport Web3 from 'web3';\nimport { ethers } from 'ethers';\nimport './exchange.css';\nimport '../../bootstrap.min.css';\nimport SwapForm from \"./swapForm\";\nexport default function Spot() {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      balance = _useState2[0],\n      setBalance = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      balance1 = _useState4[0],\n      setBalance1 = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      balance2 = _useState6[0],\n      setBalance2 = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      flag1 = _useState8[0],\n      setFlag1 = _useState8[1];\n\n  var _useState9 = useState(\"ETHER\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      token1 = _useState10[0],\n      setToken1 = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      flag2 = _useState12[0],\n      setFlag2 = _useState12[1];\n\n  var _useState13 = useState(\"ETHER\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      token2 = _useState14[0],\n      setToken2 = _useState14[1];\n\n  var _useState15 = useState(\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      tokenAddress1 = _useState16[0],\n      setTokenAddress1 = _useState16[1];\n\n  var _useState17 = useState(\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      tokenAddress2 = _useState18[0],\n      setTokenAddress2 = _useState18[1];\n\n  var _useState19 = useState(0),\n      _useState20 = _slicedToArray(_useState19, 2),\n      amount1 = _useState20[0],\n      setAmount1 = _useState20[1];\n\n  var _useState21 = useState(0),\n      _useState22 = _slicedToArray(_useState21, 2),\n      amount2 = _useState22[0],\n      setAmount2 = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      loading = _useState24[0],\n      setLoading = _useState24[1];\n\n  var _useState25 = useState(),\n      _useState26 = _slicedToArray(_useState25, 2),\n      screenWidth = _useState26[0],\n      setScreenWidth = _useState26[1];\n\n  var _useState27 = useState(\"false\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      connectFlag = _useState28[0],\n      setConnectFlag = _useState28[1];\n\n  var _useState29 = useState(),\n      _useState30 = _slicedToArray(_useState29, 2),\n      signer = _useState30[0],\n      setSigner = _useState30[1];\n\n  var _useState31 = useState(),\n      _useState32 = _slicedToArray(_useState31, 2),\n      userAddress = _useState32[0],\n      setAddress = _useState32[1];\n\n  var handleReverse = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setToken1(token2);\n              setToken2(token1);\n              setTokenAddress1(tokenAddress2);\n              setTokenAddress2(tokenAddress1);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleReverse() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleSwap = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var web3, accounts;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!window.ethereum) {\n                _context2.next = 11;\n                break;\n              }\n\n              web3 = new Web3(window.ethereum);\n              _context2.next = 4;\n              return web3.eth.getAccounts();\n\n            case 4:\n              accounts = _context2.sent;\n\n              if (!(accounts.length != 0)) {\n                _context2.next = 11;\n                break;\n              }\n\n              if (!(token1 == token2)) {\n                _context2.next = 9;\n                break;\n              }\n\n              alert(\"input same token!\");\n              return _context2.abrupt(\"return\");\n\n            case 9:\n              console.log(token1, token2);\n\n              if (token1 == \"ETHER\") {\n                console.log(\"ether transaction\");\n                handleEthForToken();\n              } else {\n                if (token2 == \"ETHER\") {\n                  handleTokenForEth();\n                } else {\n                  handleTokenForToken();\n                }\n              }\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleSwap() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buyCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 1,\n    md: 1,\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 10,\n    md: 10,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"y-card-form-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"x-font3_2 text-center top_section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, \"YOUR BALANCE\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/icon_1.png\",\n    alt: \"icon1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 37\n    }\n  }, \"Available BNB balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 37\n    }\n  }, balance1)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 37\n    }\n  }, \"Available USDT balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 37\n    }\n  }, balance2)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 bottom_border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 37\n    }\n  }, \"Available MBT balance:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"y-card-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 37\n    }\n  }, balance))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 1,\n    md: 1,\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"x-swapCard-container\",\n    style: screenWidth > 800 ? {\n      paddingLeft: \"30px\",\n      paddingRight: \"30px\"\n    } : {\n      paddingRight: \"10px\",\n      paddingLeft: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, \"Swap\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"x-font3\",\n    style: {\n      marginLeft: 'auto',\n      alignSelf: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, connectFlag ? \"Metamask Connected\" : \"Please connect metamask\")), /*#__PURE__*/React.createElement(SwapForm, {\n    role: \"From\",\n    flag: flag1,\n    setFlag: setFlag1,\n    token: token1,\n    balance: balance1,\n    amount: amount1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"primary\",\n    \"aria-label\": \"upload picture\",\n    component: \"span\",\n    onClick: handleReverse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ArrowDownwardIcon, {\n    style: {\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(SwapForm, {\n    role: \"To\",\n    flag: flag2,\n    setFlag: setFlag2,\n    token: token2,\n    balance: balance2,\n    amount: amount2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"x-swapCard-submit-button\",\n    onClick: handleSwap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/box.gif\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 100\n    }\n  }) : \"Swap\"))));\n}","map":{"version":3,"sources":["E:/my working files/working/Exchange-contract/Exchange/src/components/exchange/swap.js"],"names":["React","useEffect","useState","ArrowDownwardIcon","IconButton","Radio","Grid","Web3","ethers","SwapForm","Spot","balance","setBalance","balance1","setBalance1","balance2","setBalance2","flag1","setFlag1","token1","setToken1","flag2","setFlag2","token2","setToken2","tokenAddress1","setTokenAddress1","tokenAddress2","setTokenAddress2","amount1","setAmount1","amount2","setAmount2","loading","setLoading","screenWidth","setScreenWidth","connectFlag","setConnectFlag","signer","setSigner","userAddress","setAddress","handleReverse","handleSwap","window","ethereum","web3","eth","getAccounts","accounts","length","alert","console","log","handleEthForToken","handleTokenForEth","handleTokenForToken","padding","paddingLeft","paddingRight","display","marginBottom","marginLeft","alignSelf","color","height"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {Radio, Grid} from '@material-ui/core';\r\nimport Web3 from 'web3';\r\nimport { ethers } from 'ethers';\r\n\r\n\r\nimport './exchange.css';\r\nimport '../../bootstrap.min.css';\r\nimport SwapForm from \"./swapForm\";\r\n\r\n\r\n\r\nexport default function Spot() {\r\n\r\n    const [balance,setBalance]=useState(0);\r\n    const [balance1,setBalance1]=useState(0);\r\n    const [balance2,setBalance2]=useState(0);\r\n    const [flag1, setFlag1] = useState(true);\r\n    const [token1, setToken1] = useState(\"ETHER\");\r\n    const [flag2, setFlag2] = useState(true);\r\n    const [token2, setToken2] = useState(\"ETHER\");\r\n    const [tokenAddress1, setTokenAddress1] = useState(\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\");\r\n    const [tokenAddress2, setTokenAddress2] = useState(\"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\");\r\n    const [amount1, setAmount1] = useState(0);\r\n    const [amount2, setAmount2] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n    const [screenWidth, setScreenWidth] = useState();\r\n\tconst [connectFlag,setConnectFlag]=useState(\"false\");\r\n\tconst [signer,setSigner]=useState();\r\n\tconst [userAddress,setAddress]=useState();\r\n\r\n    const handleReverse = async () =>{\r\n        setToken1(token2);\r\n        setToken2(token1);\r\n\t\tsetTokenAddress1(tokenAddress2);\r\n\t\tsetTokenAddress2(tokenAddress1);\r\n    }\r\n    const handleSwap = async () =>{\r\n\t\tif(window.ethereum){\r\n\t\t\tvar web3 = new Web3(window.ethereum);\r\n            const accounts = await web3.eth.getAccounts();\r\n            if(accounts.length!=0){\r\n\t\t\t\tif(token1==token2) {\r\n\t\t\t\t\talert(\"input same token!\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(token1,token2);\r\n\t\t\t\tif(token1==\"ETHER\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.log(\"ether transaction\");\r\n\t\t\t\t\t\thandleEthForToken();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(token2==\"ETHER\"){\r\n\t\t\t\t\t\t\thandleTokenForEth();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\thandleTokenForToken();\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"buyCard\">\r\n                <Grid container spacing = {2}>\r\n                    <Grid item xs={12} sm = {1} md = {1} lg={2}></Grid>\r\n                    <Grid item xs = {12} sm = {10} md = {10} lg={8}>\r\n                        <div className = \"y-card-form-top\">\r\n                            <div className = \"x-font3_2 text-center top_section\" >\r\n                                <span>YOUR BALANCE</span>\r\n                                <img src=\"/img/icon_1.png\" alt=\"icon1\"></img>\r\n                            </div>\r\n                            <div style={{padding:20}}>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available BNB balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance1}</span>\r\n                                </div>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available USDT balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance2}</span>\r\n                                </div>\r\n                                <div className = \"mt-3 bottom_border\">\r\n                                    <span className = \"x-font3_1\">\r\n                                        Available MBT balance:\r\n                                    </span>\r\n                                    <span className = \"y-card-input\">{balance}</span>\r\n                                </div>\r\n                            </div>\r\n                           \r\n                        </div>\r\n                    </Grid>\r\n                    \r\n                    <Grid item xs={12} sm = {1} md = {1} lg={2}></Grid>\r\n                </Grid> \r\n            </div>\r\n            <div className = \"x-swapCard-container\" style = {screenWidth>800?{paddingLeft:\"30px\", paddingRight: \"30px\"}:{paddingRight: \"10px\", paddingLeft: \"10px\"}}>\r\n                <div style={{display:'flex',marginBottom:20}}>\r\n                    <span className=\"x-font2\">Swap</span>\r\n                    <span className=\"x-font3\" style={{marginLeft:'auto',alignSelf:'center'}}>{connectFlag?`Metamask Connected`:`Please connect metamask`}</span>\r\n                </div>\r\n                <SwapForm role = \"From\"  flag = {flag1} setFlag = {setFlag1} token = {token1} balance = {balance1} amount = {amount1}/>\r\n                <div className = \"text-center\">\r\n                    <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\" onClick = {handleReverse}>\r\n                        <ArrowDownwardIcon style = {{color: \"white\"}}/>\r\n                    </IconButton>\r\n                </div>\r\n                <SwapForm role = \"To\" flag = {flag2} setFlag = {setFlag2} token = {token2} balance = {balance2} amount = {amount2}/>\r\n                <div style = {{height: \"40px\"}}></div>\r\n                <div className = \"mt-10\">\r\n                    <button className = \"x-swapCard-submit-button\" onClick = {handleSwap}>{loading?<img src = \"/img/box.gif\" />:\"Swap\"}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}